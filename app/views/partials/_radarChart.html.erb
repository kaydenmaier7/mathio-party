<div class="radarChart"></div>

<script>
  // Set-Up
  var margin = {top: 100, right: 100, bottom: 100, left: 100},
    width = Math.min(700, window.innerWidth - 10) - margin.left - margin.right,
    height = Math.min(width, window.innerHeight - margin.top - margin.bottom - 20);

  // Data
  var data = [
        [//match 1
        <% 8.times do |num| %>
          <% val = User.find(1).percent('correct', 'multiplication', "#{num} times tables", 1)%>
          {axis:<%= num %>,value:<%= val %>},
        <% end %>
        {axis:"9",value:<%=User.find(1).percent('correct', 'multiplication', "9 times tables", 1)%>}
        ],
        [//match 2
        <% 8.times do |num| %>
          <% val = User.find(1).percent('correct', 'multiplication', "#{num} times tables", 2)%>
          {axis:<%= num %>,value:<%= val %>},
        <% end %>
        {axis:"9",value:<%=User.find(1).percent('correct', 'multiplication', "9 times tables", 2)%>}
        ]
      ];

  // Draw the Chart
  var color = d3.scaleOrdinal()
    .range(["#EDC951","#CC333F","#00A0B0"]);

  var radarChartOptions = {
    w: width,
    h: height,
    margin: margin,
    maxValue: 0.5,
    levels: 5,
    roundStrokes: true,
    color: color
  };
  //Call function to draw the Radar chart
  RadarChart(".radarChart", data, radarChartOptions);
</script>
